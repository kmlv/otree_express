{% extends "global/Base.html" %} {% load staticfiles otree_tags %}


{% block styles %}
<link href="{% static "jquery-ui/jquery-ui.min.css" %}" rel="stylesheet">
<link rel = "stylesheet" href ="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<style type="text/css">

</style>

{% endblock %}

{% block title%}
Practice Screen
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="{% static "lib/flot/jquery.flot.js" %}"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="{% static "lib/jquery/jquery-ui.js" %}"></script>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

    <script type="text/javascript">
    jQuery(document).ready(function ($) {
        $("#hideNext").hide();
    });
    </script>

    <script type="text/javascript" src="{% static "jsFiles/start.js" %}"></script>
{% endblock %}




{% block content %}

{#    {% if subsession.debug_mode == True %}#}
{#        <p>the goal is {{player.target_income}}</p>#}
{#        <p>player id is {{player.id_in_group}}</p>#}
{#    {% endif %}#}

<div ng-app="Game" >

    <div ng-controller="gameController" ng-init = "showgame()" ng-show="showpage.game">

        <input id = 'target' type = "number" value = {{player.target_income}} style = 'display: none;'>
        <input id = 'type'  type = "text" value = 'practice' style = 'display: none;'>
        <div class="form-group required">
            <div class="controls">
                <input type="hidden" name="task_reward" id="task_reward" value="0">
            </div>
        </div>

        <p class = text-left>This is a practice screen, and it does NOT count towards your income. </p>

        <p class="text-left" >
            In this task, you can earn you a maximum of <span ng-bind="maxpoints"></span> points.
            Your current Task Income is $<span ng-bind="parsedIncome"></span>.
        </p>
                    <!-- real tasks -->
          <div class="container" ng-show="showpage.game">
            <div class="row">

            </div>
          </div>

          <!-- income earning -->
          <div class="container" >
            <div class="row" >
              <div class="col-md-3" >
              </div>
            </div>


            <div class="row">


            </div>
            <br><br>
            <div class="row">
              <div class="col-md-4">
                <div class="row">
                  <div class="col-md-5 text-left">
                    <h5 id="nearness" class="text-center"></h5>
                  </div>
                  <div class="col-md-4">
                    <h5 id="location" class="text-center"></h5>
                  </div>
                </div>
                <!-- Game -->
                <div class="row">
                  <!-- changed width and height to be 500, used to be 600-->
                  <div id="placeholder" style="width:400px;height:400px"></div>
                </div>
              </div>
              <div class="col-md-4" ng-show="showpage.setup">
                <!-- points earned -->
                <br><br>
                <div class="row" ng-show="showpage.setup">
                  <div class="col-md-4 col-md-offset-3">
                    <h5 id="timer">Time left (secs)</h5>
                  </div>
                  <div class="col-md-2">
                    <h5 ng-bind="time"></h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4 col-md-offset-3">
                    <h5>Points earned</h5>
                  </div>
                  <div class="col-md-2">
                    <h5 id="points"></h5>
                  </div>
                </div>
                <!-- locator -->
                <div class="row">
                  <div class="col-md-11 col-md-offset-3">
                    <canvas id="locator" width="150px" height="250px"></canvas>
                  </div>
                </div>
                <div class="row">
                  <div class="text-center">
                    <button id="nexttask" type="button" class="btn btn-success" ng-click="nexttask()">Go To Next Task</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <br/>
        <br/>
        <br/>

          {% include 'search_task/GameInstructions.html' %}
{#        <h5 ng-show="false">Use the <em>left-click</em> of the mouse to <em>move</em>#}
{#                  the yellow circle (in the left graph) and search for the location that gives you the highest#}
{#                  score in Points. The Points Indicator is on right (100 points = 1.00 dollar).#}
{#                  The assigned time is 35 seconds. You can try as many points as you want.</h5>#}
{##}
    </div>
</div>

        <div id="hideNext" style="display: none;" ng-if='showpage.afterGame'>
        <h5> Done with practice.</h5>
        <h5> Continue to real task.</h5>
        <br>
        <p></p>
        {% next_button %} </h3>
        </div>
{#{% if subsession.debug_mode == True %}#}
{#{% next_button %}#}
{#{% endif %}#}

{% endblock %}